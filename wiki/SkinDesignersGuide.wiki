#summary A general guide to help skinners get oriented with the how their skin should interact with the plug-in.
#labels Featured
= Introduction =
To begin with, thanks for checking out the skin designer's guide. The purpose of this document is to help you understand how exactly Moving Pictures interacts with the skin you will be/are creating. In this document you're going to find a general overview of how the plug-in is structured, the components that you, as a skinner should be interested in, and a list of available fields that you can use. If you are impatient, feel free to scroll down to get to the meat of the document.

For skinning Moving Pictures, you are welcome to use whatever skin you like as a base, but I would recommend you start with the generic skin that ships with Moving Pictures. It is written by the same people that write the plug-in itself so if ever you are having trouble getting something to work right, refer to the generic skin.

If you are new to skinning, I would suggest you check out [http://www.team-mediaportal.com/manual/MediaPortal1_Development/SkinArchitecture the skin designer's guide] on the !MediaPortal wiki.

= Changes in 0.7 =
  * Two new labels have been added to indicate the number of movies in the users movie collection, and the number of movies currently listed in the facade based on filtering. See the Labels section below for details.
  * A second backdrop image control has been added to support a fading transition when the backdrop image changes. See the Backdrop Fading transition section below.
  * A working animation control has been added to indicate when the Moving Pictures Importer is actively loading a movie file or retrieving details and artwork. See the controls section below for details.
  * We would like to officially encourage you to display the movie rating on a five star scale rather than ten. With five stars it's easy to see at a very quick glance how a movie has been rated by critics. With ten stars though often users find themselves actually counting the number of stars, which is certainly not desirable. You are of course free to design your skin as you see fit, but please consider this suggestion. To make the change all you have to do is change the imagesToDraw tag of the imagelist control from 10 to 5.

= Changes in 0.6.0 =
  *  Three dummy labels have been added to provide visibility indicators to the skin. For example it is possible to have an image visible only when the currently selected movie has already been watched. See the Dummy Controls section below for more details.

= Changes in 0.5.3 =
  *  New delayed artwork strings have been added. You should use these strings for your backdrop (fan-art) and coverart images for *very significant performance boosts*. Please pay attention to this, it is important.


= The Views and Conditional Visibility =

The plug-in is broken down into five views. Four are based on the facade views and the fifth is the details view. All five views are a part of the same !MediaPortal "window". What this means is that to have something displayed on only a subset of the available views, you will need to use [http://www.team-mediaportal.com/manual/MediaPortal1_Development/SkinArchitecture/skin_conditional_visibility conditional visibility]. Below are the five visibility tags you should be using for each view. If you want a control visible on multiple views, there is an example of this below as well.

{{{
List View:        <visible>facadeview.list+Control.IsVisible(50)</visible>
Small Icons View: <visible>facadeview.smallicons+Control.IsVisible(50)</visible>
Large Icon View:  <visible>facadeview.largeicons+Control.IsVisible(50)</visible>
Filmstrip View:   <visible>facadeview.filmstrip+Control.IsVisible(50)</visible>
Details View:     <visible>!Control.IsVisible(50)</visible>

Both Thumbnail Views:      <visible>[facadeview.smallicons|facadeview.largeicons]+Control.IsVisible(50)</visible>
}}}

= The Backdrop Fading Transition =
Beginning with Moving Pictures 0.7, it is now possible to apply animation effects to the backdrop as it fades from one image to another. This is possible by using two image controls instead of one. When the backdrop image changes, the first control is set to invisible while the second (with the new backdrop) is set to visible. If an animation is applied to each of these controls, to be triggered by a change in visibility, a smooth transition effect can be applied. An example implementation is listed below. 

{{{
    <control>
      <description>Movie Backdrop (Fan Art) - Plug-in sets to invisible, if no art.</description>
      <type>image</type>
      <id>1</id>
      <posX>0</posX>
      <posY>0</posY>
      <width>1366</width>
      <height>768</height>
      <texture>#MovingPictures.Backdrop</texture>
      <animation effect="fade" start="0" end="100" time="3000">WindowOpen</animation>
      <animation effect="fade" start="0" end="100" time="200">Visible</animation>
      <animation effect="fade" start="100" end="0" time="200" delay="200">Hidden</animation>
      <!-- Do not modify the visibility for this component. It is handled by the plug-in. Use the above 
           defines for conditional visibility if you dont want to use fan-art only specific views. -->
    </control>

    <control>
      <description>Alternate Movie Backdrop - Toggles Load with Component 1 for animations on visibiltiy</description>
      <type>image</type>
      <id>11</id>
      <posX>0</posX>
      <posY>0</posY>
      <width>1366</width>
      <height>768</height>
      <texture>#MovingPictures.Backdrop2</texture>
      <animation effect="fade" start="0" end="100" time="200">Visible</animation>
      <animation effect="fade" start="100" end="0" time="200" delay="200">Hidden</animation>
      <!-- Do not modify the visibility for this component. It is handled by the plug-in. Use the above 
           defines for conditional visibility if you dont want to use fan-art only specific views. -->
    </control>
}}}

= Available Labels / Strings =
=== Artwork Labels ==
An important note, the standard label list includes the current backdrop and coverart paths. _These are not time delayed and as a consequence will cause the GUI to perform poorly if you use them for display._ They are included for completeness that is all. For artwork you should use the following two labels which will be updated with a time delay to dramatically boost performance of the plug-in.

{{{
#MovingPictures.Coverart
#MovingPictures.Backdrop
}}}

=== Movie Count Labels ===
There are two labels that give numerical information about the size of the users movie collection. The first is the number of movies currently listed in the GUI based on filtering, for example, if the user is viewing only unwatched movies. The second is the total number of movies in the collection. 

{{{
#MovingPictures.general.filteredmoviecount
#MovingPictures.general.totalmoviecount
}}}

=== Standard Labels ===
Everything for the current movie that is stored in the database is dumped to the skin. The definitive list of skin elements can be pulled from a log file of Moving Pictures while running in debug mode (the default right now). All available tags will be listed once in the log file. That being said, a current list is pasted below.

Please also take note of the list elements like Actor and Genre. They are broken down into sub fields in case you want to itemize them or for some reason only want to display one field. By default the max number of fields to display is five, but that is configurable in the advanced settings of the control panel.

{{{
#MovingPictures.SelectedMovie.title = "The Professional"                                                            
#MovingPictures.SelectedMovie.sortby = "Professional, The"                                                          
#MovingPictures.SelectedMovie.directors = "Luc Besson"                                                              
#MovingPictures.SelectedMovie.extra.directors.1 = "Luc Besson"                                                      
#MovingPictures.SelectedMovie.writers = "Luc Besson"                                                                
#MovingPictures.SelectedMovie.extra.writers.1 = "Luc Besson"                                                        
#MovingPictures.SelectedMovie.actors = "Jean Reno, Gary Oldman, ..."
#MovingPictures.SelectedMovie.extra.actors.1 = "Jean Reno"                                                          
#MovingPictures.SelectedMovie.extra.actors.2 = "Gary Oldman"                                                        
#MovingPictures.SelectedMovie.extra.actors.3 = "Natalie Portman"                                                    
#MovingPictures.SelectedMovie.extra.actors.4 = "Danny Aiello"                                                       
#MovingPictures.SelectedMovie.extra.actors.5 = "Peter Appel"                                                        
#MovingPictures.SelectedMovie.year = "1994"                                                                         
#MovingPictures.SelectedMovie.genres = "Action, Crime, Drama, Thriller"                                             
#MovingPictures.SelectedMovie.extra.genres.1 = "Action"                                                             
#MovingPictures.SelectedMovie.extra.genres.2 = "Crime"                                                              
#MovingPictures.SelectedMovie.extra.genres.3 = "Drama"                                                              
#MovingPictures.SelectedMovie.extra.genres.4 = "Thriller"                                                           
#MovingPictures.SelectedMovie.certification = "R"                                                                   
#MovingPictures.SelectedMovie.language = "English"                                                                  
#MovingPictures.SelectedMovie.tagline = "If you want a job done well hire a professional."                          
#MovingPictures.SelectedMovie.summary = "As visually stylish as it is graphically ..."                                                                                                                
#MovingPictures.SelectedMovie.score = "8.5"                                                                         
#MovingPictures.SelectedMovie.user_score = "0"                                                                      
#MovingPictures.SelectedMovie.watched = "False"                                                                     
#MovingPictures.SelectedMovie.popularity = "47"                                                                     
#MovingPictures.SelectedMovie.runtime = "110"     
#MovingPictures.SelectedMovie.extra.runtime.hour = "1"           
#MovingPictures.SelectedMovie.extra.runtime.minute = "50"                                                        
#MovingPictures.SelectedMovie.movie_xml_id = "81530"                                                                
#MovingPictures.SelectedMovie.imdb_id = "tt0110413"                                                                 
#MovingPictures.SelectedMovie.alternatecovers = "C:\Documents and Settings\..."
#MovingPictures.SelectedMovie.extra.alternatecovers.1 = "C:\Documents and Settings\..."
#MovingPictures.SelectedMovie.extra.alternatecovers.2 = "C:\Documents and Settings\..."
#MovingPictures.SelectedMovie.extra.alternatecovers.3 = "C:\Documents and Settings\..."
#MovingPictures.SelectedMovie.coverfullpath = "C:\Documents and Settings\..."
#MovingPictures.SelectedMovie.coverthumbfullpath = "C:\Documents and Settings\..."
#MovingPictures.SelectedMovie.backdropfullpath = "C:\Documents and Settings\..."                                    
}}}

= Relevant Controls =
There are a few controls (and their corresponding IDs) that you as a skinner should know about. Get creative, they don't need to be used in the same way they are used by the generic skin. And if you come up with an idea that requires a new control and a little bit of logic, feel free to ask for it! Just head on over to the [http://groups.google.com/group/moving-pictures-developers Developers Discussion Group]. If you aren't a member, apply and say you're a skin designer, and you'll get approved.

=== Normal Available Controls ===
  * *Facade / List View / Thumbnail View / Filmstrip View* (50) - This is the primary control for the skin. Depending on the current view this is the primary visualization for the movies displayed on the screen.

  * *Backdrop (Fan-Art) Image* (1) - The plug-in will automatically hide this component when there is no backdrop available. If you setup conditional visibility for another image based on this control, you can display a normal background when there is no backdrop. You can also set up different versions of each view, one for when there is a backdrop and one for when there is not. You should not modify the visibility of this control directly. 

  * *Secondary Backdrop (Fan-Art) Image* (11) - If the second backdrop image control is defined in the skin file, Moving Pictures will alternate between image control #1 and image control #11, setting the visibility to false for the control not currently in use. Because of the alternating visibility, this allows for animation effects to be used when the backdrop image changes. This is currently only tested with the fading effect. 

  * *Working Animation* (13) - This is a control of type "animation". If you have it defined in your skin, it will be displayed when Moving Pictures is doing work in the background (such as loading a new movie). _This working animation should be displayed in an unobtrusive manner! It is meant to indicate a *background* task is going on, and should not disrupt the user._

  * *Toggle View Button* (2) - When this button is clicked the current view will be cycled to the next available view.

  * *Views Menu Button* (3) - When this button is clicked a menu will appear prompting the user to select a view from those that are available.

  * *Play Button* (6) - You click the button and the movie starts playing. This button also by default has focus when you move to the details view. This probably should only be visible on the details screen, but it's available anywhere, so do what you like with it.


=== Dummy Controls ===
These controls serve no direct purpose but their visibility is modified based on the conditions described. You should use the controls to handle conditional visibility of other screen elements. These are all "label" type controls. See the Generic Skin for an implementation example.

  * *Watched Flag Filtering* (8) - Visible when the facade is currently filtered by the watched flag. This indicates that only unwatched movies are visible.

  * *Selected Movie is Watched* (9) - Visible when the currently selected movie (highlighted in the facade or displayed on the details screen) has already been watched.

  * *Remote Control Filtering* (10) - Visible when the facade is currently being filtered by remote control filtering. (If the user types a partial movie title with the number pad of his or her remote, the movie list will be filtered by what is typed).

=== Possible Future Controls ===
These controls are not currently implemented but their IDs are reserved. Do no use these IDs or your skin might experience incompatibility with future versions of the plug-in. You should probably steer clear of ever putting ID tags on controls that are not directly tied to an existing control listed in this document.

  * *Filters Button* (4) - This is not actually implemented yet, but this will most likely reveal additional screen components to allow the user to specify filter/search settings to reduce the number of listed movies. More details coming soon.

  * *Settings Button* (5) - This is not implemented yet either, and I am not sure if it will stay. The intention is for it to bring up some sort of settings menu, but I am not sure if I will implement this. If you have any ideas though, please share. I would avoid using this ID on other controls though, as this ID is reserved for this button, should it get implemented.

  * *Cycle Text Button* (7) - Another, yet to be implemented feature. When clicked this will cycle the text in a yet to be named skin field. The idea is to have the movie summary, trivia, goofs, etc cycled through as the user clicks this button. When it is implemented more details will be posted here. Again though, don't use this ID for anything else.

= Common Issues ===
=== My Components Aren't Being Displayed ==
Check the order you are creating your controls. If your background is declared after your label, the label wont show up. Also check your conditional visibility. Double check you are using tags similar to what is listed above. Are your and and or operators correct? Do you know what I mean by that? If not you should read [http://www.team-mediaportal.com/manual/MediaPortal1_Development/SkinArchitecture/skin_conditional_visibility#ListofBooleanConditions this part] of the MP Skin Designer's Guide.

=== Still Having Trouble? ===
No worries. Just head on over to the [http://groups.google.com/group/moving-pictures-developers Developer's Discussion Group] and ask a question. If you aren't a member, apply and say you're a skin designer. You will be approved. In the Developer's Discussion Google Group you will be able to interact with other skin designers, and the developers of the plug-in themselves. If you have a problem, odds are someone there can help.

There is also an IRC channel that is monitored sporadically. You can connect via #moving-pictures @ irc.freenode.net.